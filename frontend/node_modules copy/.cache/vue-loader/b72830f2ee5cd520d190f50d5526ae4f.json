{"remainingRequest":"C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\inżynierka\\frontend\\src\\components\\post\\LocalizationSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\inżynierka\\frontend\\src\\components\\post\\LocalizationSelect.vue","mtime":1648071471729},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645547152282},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1645547152770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBHZW9TZWFyY2hDb250cm9sLCBPcGVuU3RyZWV0TWFwUHJvdmlkZXIgfSBmcm9tICJsZWFmbGV0LWdlb3NlYXJjaCI7DQppbXBvcnQgTCBmcm9tICJsZWFmbGV0IjsNCmltcG9ydCB7IExNYXAsIExUaWxlTGF5ZXIsIExNYXJrZXIgfSBmcm9tICJ2dWUyLWxlYWZsZXQiOw0KaW1wb3J0IFZ1ZTJMZWFmbGV0TG9jYXRlY29udHJvbCBmcm9tICd2dWUyLWxlYWZsZXQtbG9jYXRlY29udHJvbCcNCg0KLy8gSWNvbiBmaXgNCmRlbGV0ZSBMLkljb24uRGVmYXVsdC5wcm90b3R5cGUuX2dldEljb25Vcmw7DQpMLkljb24uRGVmYXVsdC5tZXJnZU9wdGlvbnMoew0KICBpY29uUmV0aW5hVXJsOiByZXF1aXJlKCJsZWFmbGV0L2Rpc3QvaW1hZ2VzL21hcmtlci1pY29uLTJ4LnBuZyIpLA0KICBpY29uVXJsOiByZXF1aXJlKCJsZWFmbGV0L2Rpc3QvaW1hZ2VzL21hcmtlci1pY29uLnBuZyIpLA0KICBzaGFkb3dVcmw6IHJlcXVpcmUoImxlYWZsZXQvZGlzdC9pbWFnZXMvbWFya2VyLXNoYWRvdy5wbmciKSwNCn0pOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBMTWFwLA0KICAgIExUaWxlTGF5ZXIsDQogICAgTE1hcmtlciwNCiAgICAndi1sb2NhdGVjb250cm9sJzogVnVlMkxlYWZsZXRMb2NhdGVjb250cm9sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVybDogImh0dHBzOi8ve3N9LmJhc2VtYXBzLmNhcnRvY2RuLmNvbS9yYXN0ZXJ0aWxlcy92b3lhZ2VyX2xhYmVsc191bmRlci97en0ve3h9L3t5fXtyfS5wbmciLA0KICAgICAgYXR0cmlidXRpb246DQogICAgICAgICcmY29weTsgPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHA6Ly9vc20ub3JnL2NvcHlyaWdodCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJywNCiAgICAgIHpvb206IDMsDQogICAgICBjZW50ZXI6IFs0Ny40MTMyMiwgLTEuMjE5NDgyXSwNCiAgICAgIGJvdW5kczogbnVsbCwNCiAgICAgIG1hcmtlckxhdExuZzogWzAsIDBdLA0KICAgICAgbWFya2VyQWRkZWQ6IGZhbHNlLA0KICAgICAgbWFya2VyTGFiZWw6ICIiDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGhhbmRsZUNsaWNrKGUpIHsNCiAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IE9wZW5TdHJlZXRNYXBQcm92aWRlcigpOw0KICAgICAgdGhpcy5tYXJrZXJBZGRlZCA9IHRydWU7DQogICAgICB0aGlzLm1hcmtlckxhdExuZyA9IFtlLmxhdGxuZy5sYXQsIGUubGF0bG5nLmxuZ107DQogICAgICB0aGlzLmNlbnRlciA9IFtlLmxhdGxuZy5sYXQsIGUubGF0bG5nLmxuZ107DQogICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcHJvdmlkZXIuc2VhcmNoKHsgcXVlcnk6ICBlLmxhdGxuZy5sYXQgKyAnLCAnICsgZS5sYXRsbmcubG5nfSk7DQogICAgICB0aGlzLm1hcmtlckxhYmVsID0gcmVzdWx0c1swXS5sYWJlbA0KICAgIH0sDQogICAgbWFwUmVhZHkoKSB7DQogICAgICB2YXIgbWFwID0gdGhpcy4kcmVmcy5teU1hcC5tYXBPYmplY3Q7DQogICAgICBjb25zdCBzZWFyY2ggPSBuZXcgR2VvU2VhcmNoQ29udHJvbCh7DQogICAgICAgIHByb3ZpZGVyOiBuZXcgT3BlblN0cmVldE1hcFByb3ZpZGVyKCksDQogICAgICAgIHN0eWxlOiAnYmFyJywNCiAgICAgICAgc2VhcmNoTGFiZWw6ICdXcGlzeiBhZHJlcycNCiAgICAgIH0pOw0KICAgICAgc2VhcmNoLmFkZE1hcmtlciA9ICh0KSA9PiB7DQogICAgICAgIHRoaXMubWFya2VyQWRkZWQgPSB0cnVlOw0KICAgICAgICB0aGlzLm1hcmtlckxhdExuZyA9IFt0LnksIHQueF07DQogICAgICAgIHRoaXMuY2VudGVyID0gW3QueSwgdC54XTsNCiAgICAgICAgdGhpcy5tYXJrZXJMYWJlbCA9IHQubGFiZWwNCiAgICAgIH07DQogICAgICBtYXAuYWRkQ29udHJvbChzZWFyY2gpOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["LocalizationSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LocalizationSelect.vue","sourceRoot":"src/components/post","sourcesContent":["<template>\r\n  <div style=\"height: 350px\">\r\n    <l-map\r\n      @ready=\"mapReady()\"\r\n      ref=\"myMap\"\r\n      id=\"map\"\r\n      style=\"height: 80%; width: 100%\"\r\n      :zoom=\"zoom\"\r\n      :center=\"center\"\r\n      @click=\"handleClick\"\r\n      ><l-marker\r\n        v-if=\"markerAdded\"\r\n        :draggable=\"true\"\r\n        :lat-lng=\"markerLatLng\"\r\n      ></l-marker>\r\n      <l-tile-layer :url=\"url\" :attribution=\"attribution\"></l-tile-layer>\r\n      <v-locatecontrol :options=\"{\r\n    position: 'topright',\r\n    strings: {\r\n        title: 'Twoja lokalizacja',\r\n    }}\"/>\r\n    </l-map>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GeoSearchControl, OpenStreetMapProvider } from \"leaflet-geosearch\";\r\nimport L from \"leaflet\";\r\nimport { LMap, LTileLayer, LMarker } from \"vue2-leaflet\";\r\nimport Vue2LeafletLocatecontrol from 'vue2-leaflet-locatecontrol'\r\n\r\n// Icon fix\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\r\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\r\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\r\n});\r\n\r\nexport default {\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n    LMarker,\r\n    'v-locatecontrol': Vue2LeafletLocatecontrol\r\n  },\r\n  data() {\r\n    return {\r\n      url: \"https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png\",\r\n      attribution:\r\n        '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\r\n      zoom: 3,\r\n      center: [47.41322, -1.219482],\r\n      bounds: null,\r\n      markerLatLng: [0, 0],\r\n      markerAdded: false,\r\n      markerLabel: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    async handleClick(e) {\r\n      const provider = new OpenStreetMapProvider();\r\n      this.markerAdded = true;\r\n      this.markerLatLng = [e.latlng.lat, e.latlng.lng];\r\n      this.center = [e.latlng.lat, e.latlng.lng];\r\n      const results = await provider.search({ query:  e.latlng.lat + ', ' + e.latlng.lng});\r\n      this.markerLabel = results[0].label\r\n    },\r\n    mapReady() {\r\n      var map = this.$refs.myMap.mapObject;\r\n      const search = new GeoSearchControl({\r\n        provider: new OpenStreetMapProvider(),\r\n        style: 'bar',\r\n        searchLabel: 'Wpisz adres'\r\n      });\r\n      search.addMarker = (t) => {\r\n        this.markerAdded = true;\r\n        this.markerLatLng = [t.y, t.x];\r\n        this.center = [t.y, t.x];\r\n        this.markerLabel = t.label\r\n      };\r\n      map.addControl(search);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n@import \"~leaflet/dist/leaflet.css\";\r\n@import \"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\";\r\n</style>"]}]}