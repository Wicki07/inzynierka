{"remainingRequest":"C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\inżynierka\\frontend\\src\\components\\post\\LocalizationSelect.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\inżynierka\\frontend\\src\\components\\post\\LocalizationSelect.vue","mtime":1648071471729},{"path":"C:\\inżynierka\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1645547151130},{"path":"C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1645547153813},{"path":"C:\\inżynierka\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1645547152269},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1645547152770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkBpbXBvcnQgIn5sZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MiOw0KQGltcG9ydCAiaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC43LjAvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIjsNCg=="},{"version":3,"sources":["LocalizationSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA","file":"LocalizationSelect.vue","sourceRoot":"src/components/post","sourcesContent":["<template>\r\n  <div style=\"height: 350px\">\r\n    <l-map\r\n      @ready=\"mapReady()\"\r\n      ref=\"myMap\"\r\n      id=\"map\"\r\n      style=\"height: 80%; width: 100%\"\r\n      :zoom=\"zoom\"\r\n      :center=\"center\"\r\n      @click=\"handleClick\"\r\n      ><l-marker\r\n        v-if=\"markerAdded\"\r\n        :draggable=\"true\"\r\n        :lat-lng=\"markerLatLng\"\r\n      ></l-marker>\r\n      <l-tile-layer :url=\"url\" :attribution=\"attribution\"></l-tile-layer>\r\n      <v-locatecontrol :options=\"{\r\n    position: 'topright',\r\n    strings: {\r\n        title: 'Twoja lokalizacja',\r\n    }}\"/>\r\n    </l-map>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GeoSearchControl, OpenStreetMapProvider } from \"leaflet-geosearch\";\r\nimport L from \"leaflet\";\r\nimport { LMap, LTileLayer, LMarker } from \"vue2-leaflet\";\r\nimport Vue2LeafletLocatecontrol from 'vue2-leaflet-locatecontrol'\r\n\r\n// Icon fix\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\r\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\r\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\r\n});\r\n\r\nexport default {\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n    LMarker,\r\n    'v-locatecontrol': Vue2LeafletLocatecontrol\r\n  },\r\n  data() {\r\n    return {\r\n      url: \"https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png\",\r\n      attribution:\r\n        '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\r\n      zoom: 3,\r\n      center: [47.41322, -1.219482],\r\n      bounds: null,\r\n      markerLatLng: [0, 0],\r\n      markerAdded: false,\r\n      markerLabel: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    async handleClick(e) {\r\n      const provider = new OpenStreetMapProvider();\r\n      this.markerAdded = true;\r\n      this.markerLatLng = [e.latlng.lat, e.latlng.lng];\r\n      this.center = [e.latlng.lat, e.latlng.lng];\r\n      const results = await provider.search({ query:  e.latlng.lat + ', ' + e.latlng.lng});\r\n      this.markerLabel = results[0].label\r\n    },\r\n    mapReady() {\r\n      var map = this.$refs.myMap.mapObject;\r\n      const search = new GeoSearchControl({\r\n        provider: new OpenStreetMapProvider(),\r\n        style: 'bar',\r\n        searchLabel: 'Wpisz adres'\r\n      });\r\n      search.addMarker = (t) => {\r\n        this.markerAdded = true;\r\n        this.markerLatLng = [t.y, t.x];\r\n        this.center = [t.y, t.x];\r\n        this.markerLabel = t.label\r\n      };\r\n      map.addControl(search);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n@import \"~leaflet/dist/leaflet.css\";\r\n@import \"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\";\r\n</style>"]}]}