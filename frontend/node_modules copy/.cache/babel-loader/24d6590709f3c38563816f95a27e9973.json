{"remainingRequest":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\inżynierka\\frontend\\src\\axiosAPI.js","dependencies":[{"path":"C:\\inżynierka\\frontend\\src\\axiosAPI.js","mtime":1645547577655},{"path":"C:\\inżynierka\\frontend\\babel.config.js","mtime":1645547180370},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645547152282}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L2luXHUwMTdDeW5pZXJrYS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBiYXNlVVJMID0gJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMCc7CnZhciBheGlvc0FQSSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogYmFzZVVSTCwKICAvLyBBZHJlcyBkbyBzZXJ3ZXJhIERqYW5nbwogIHRpbWVvdXQ6IDUwMDAsCiAgaGVhZGVyczogewogICAgQXV0aG9yaXphdGlvbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgPyAnVG9rZW4gJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpIDogbnVsbCwKICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICBhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJwogIH0KfSk7CmF4aW9zQVBJLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGVycm9yKSB7CiAgICB2YXIgb3JpZ2luYWxSZXF1ZXN0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBvcmlnaW5hbFJlcXVlc3QgPSBlcnJvci5jb25maWc7CgogICAgICAgICAgICBpZiAoISh0eXBlb2YgZXJyb3IucmVzcG9uc2UgPT09ICd1bmRlZmluZWQnKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhbGVydCgnQSBzZXJ2ZXIvbmV0d29yayBlcnJvciBvY2N1cnJlZC4gJyArICdMb29rcyBsaWtlIENPUlMgbWlnaHQgYmUgdGhlIHByb2JsZW0uICcgKyAnU29ycnkgYWJvdXQgdGhpcyAtIHdlIHdpbGwgZ2V0IGl0IGZpeGVkIHNob3J0bHkuJyk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KGVycm9yKSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBpZiAoIShvcmlnaW5hbFJlcXVlc3QudXJsID09PSBiYXNlVVJMICsgJy9hcGkvYXV0aC9sb2dvdXQnICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxICYmIGVycm9yLnJlc3BvbnNlLnN0YXR1c1RleHQgPT09ICdVbmF1dGhvcml6ZWQnKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBheGlvc0FQSS5kZWZhdWx0cy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnVG9rZW4gJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwogICAgICAgICAgICBvcmlnaW5hbFJlcXVlc3QuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ1Rva2VuICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXhpb3NBUEkpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoZXJyb3IpKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCB7IGF4aW9zQVBJIH07"},{"version":3,"sources":["C:/inżynierka/frontend/src/axiosAPI.js"],"names":["axios","baseURL","axiosAPI","create","timeout","headers","Authorization","localStorage","getItem","accept","interceptors","response","use","error","originalRequest","config","alert","Promise","reject","url","status","statusText","defaults"],"mappings":";;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,IAAMC,OAAO,GAAG,uBAAhB;AACA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC1BF,EAAAA,OAAO,EAAEA,OADiB;AACT;AACjBG,EAAAA,OAAO,EAAE,IAFiB;AAG1BC,EAAAA,OAAO,EAAE;AACLC,IAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,IACT,WAAWD,YAAY,CAACC,OAAb,CAAqB,OAArB,CADF,GAET,IAHD;AAID,oBAAgB,kBAJf;AAKDC,IAAAA,MAAM,EAAE;AALP;AAHiB,CAAb,CAAjB;AAYAP,QAAQ,CAACQ,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,CACC,UAACD,QAAD,EAAc;AACb,SAAOA,QAAP;AACA,CAHF;AAAA,qEAIC,iBAAgBE,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACOC,YAAAA,eADP,GACyBD,KAAK,CAACE,MAD/B;;AAAA,kBAEK,OAAOF,KAAK,CAACF,QAAb,KAA0B,WAF/B;AAAA;AAAA;AAAA;;AAGEK,YAAAA,KAAK,CACJ,sCACC,wCADD,GAEC,kDAHG,CAAL;AAHF,6CAQSC,OAAO,CAACC,MAAR,CAAeL,KAAf,CART;;AAAA;AAAA,kBAWKC,eAAe,CAACK,GAAhB,KAAwBlB,OAAO,GAAG,kBAAlC,IAAwDY,KAAK,CAACF,QAAN,CAAeS,MAAf,KAA0B,GAAlF,IAAyFP,KAAK,CAACF,QAAN,CAAeU,UAAf,KAA8B,cAX5H;AAAA;AAAA;AAAA;;AAYWnB,YAAAA,QAAQ,CAACoB,QAAT,CAAkBjB,OAAlB,CAA0B,eAA1B,IACA,WAAWE,YAAY,CAACC,OAAb,CAAqB,OAArB,CADX;AAEAM,YAAAA,eAAe,CAACT,OAAhB,CAAwB,eAAxB,IACA,WAAWE,YAAY,CAACC,OAAb,CAAqB,OAArB,CADX;AAdX,6CAiBkBN,QAjBlB;;AAAA;AAAA,6CAoBQe,OAAO,CAACC,MAAR,CAAeL,KAAf,CApBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAJD;;AAAA;AAAA;AAAA;AAAA;AA4BA,SAAQX,QAAR","sourcesContent":["\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nconst baseURL = 'http://127.0.0.1:8000'\r\nconst axiosAPI = axios.create({\r\n    baseURL: baseURL,// Adres do serwera Django\r\n    timeout: 5000,\r\n    headers: {\r\n        Authorization: localStorage.getItem('token')\r\n            ? 'Token ' + localStorage.getItem('token')\r\n            : null,\r\n            'Content-Type': 'application/json',\r\n            accept: 'application/json',\r\n    },\r\n})\r\n\r\naxiosAPI.interceptors.response.use(\r\n\t(response) => {\r\n\t\treturn response;\r\n\t},\r\n\tasync function (error) {\r\n\t\tconst originalRequest = error.config;\r\n\t\tif (typeof error.response === 'undefined') {\r\n\t\t\talert(\r\n\t\t\t\t'A server/network error occurred. ' +\r\n\t\t\t\t\t'Looks like CORS might be the problem. ' +\r\n\t\t\t\t\t'Sorry about this - we will get it fixed shortly.'\r\n\t\t\t);\r\n\t\t\treturn Promise.reject(error);\r\n\t\t}\r\n\r\n\t\tif (originalRequest.url === baseURL + '/api/auth/logout' && error.response.status === 401 && error.response.statusText === 'Unauthorized') {\r\n            axiosAPI.defaults.headers['Authorization'] =\r\n            'Token ' + localStorage.getItem('token');\r\n            originalRequest.headers['Authorization'] =\r\n            'Token ' + localStorage.getItem('token');\r\n\r\n            return axiosAPI;\r\n\t\t}\r\n\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n);\r\n\r\nexport {axiosAPI}\r\n"]}]}