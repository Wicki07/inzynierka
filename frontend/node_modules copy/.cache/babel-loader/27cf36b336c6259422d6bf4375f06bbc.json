{"remainingRequest":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\inżynierka\\frontend\\src\\components\\post\\LocalizationSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\inżynierka\\frontend\\src\\components\\post\\LocalizationSelect.vue","mtime":1648071471729},{"path":"C:\\inżynierka\\frontend\\babel.config.js","mtime":1645547932946},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645547152282},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1645547152770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L2luXHUwMTdDeW5pZXJrYS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgR2VvU2VhcmNoQ29udHJvbCwgT3BlblN0cmVldE1hcFByb3ZpZGVyIH0gZnJvbSAibGVhZmxldC1nZW9zZWFyY2giOwppbXBvcnQgTCBmcm9tICJsZWFmbGV0IjsKaW1wb3J0IHsgTE1hcCwgTFRpbGVMYXllciwgTE1hcmtlciB9IGZyb20gInZ1ZTItbGVhZmxldCI7CmltcG9ydCBWdWUyTGVhZmxldExvY2F0ZWNvbnRyb2wgZnJvbSAndnVlMi1sZWFmbGV0LWxvY2F0ZWNvbnRyb2wnOyAvLyBJY29uIGZpeAoKZGVsZXRlIEwuSWNvbi5EZWZhdWx0LnByb3RvdHlwZS5fZ2V0SWNvblVybDsKTC5JY29uLkRlZmF1bHQubWVyZ2VPcHRpb25zKHsKICBpY29uUmV0aW5hVXJsOiByZXF1aXJlKCJsZWFmbGV0L2Rpc3QvaW1hZ2VzL21hcmtlci1pY29uLTJ4LnBuZyIpLAogIGljb25Vcmw6IHJlcXVpcmUoImxlYWZsZXQvZGlzdC9pbWFnZXMvbWFya2VyLWljb24ucG5nIiksCiAgc2hhZG93VXJsOiByZXF1aXJlKCJsZWFmbGV0L2Rpc3QvaW1hZ2VzL21hcmtlci1zaGFkb3cucG5nIikKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMTWFwOiBMTWFwLAogICAgTFRpbGVMYXllcjogTFRpbGVMYXllciwKICAgIExNYXJrZXI6IExNYXJrZXIsCiAgICAndi1sb2NhdGVjb250cm9sJzogVnVlMkxlYWZsZXRMb2NhdGVjb250cm9sCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXJsOiAiaHR0cHM6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL3Jhc3RlcnRpbGVzL3ZveWFnZXJfbGFiZWxzX3VuZGVyL3t6fS97eH0ve3l9e3J9LnBuZyIsCiAgICAgIGF0dHJpYnV0aW9uOiAnJmNvcHk7IDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwOi8vb3NtLm9yZy9jb3B5cmlnaHQiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycycsCiAgICAgIHpvb206IDMsCiAgICAgIGNlbnRlcjogWzQ3LjQxMzIyLCAtMS4yMTk0ODJdLAogICAgICBib3VuZHM6IG51bGwsCiAgICAgIG1hcmtlckxhdExuZzogWzAsIDBdLAogICAgICBtYXJrZXJBZGRlZDogZmFsc2UsCiAgICAgIG1hcmtlckxhYmVsOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayhlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwcm92aWRlciwgcmVzdWx0czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwcm92aWRlciA9IG5ldyBPcGVuU3RyZWV0TWFwUHJvdmlkZXIoKTsKICAgICAgICAgICAgICAgIF90aGlzLm1hcmtlckFkZGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLm1hcmtlckxhdExuZyA9IFtlLmxhdGxuZy5sYXQsIGUubGF0bG5nLmxuZ107CiAgICAgICAgICAgICAgICBfdGhpcy5jZW50ZXIgPSBbZS5sYXRsbmcubGF0LCBlLmxhdGxuZy5sbmddOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdmlkZXIuc2VhcmNoKHsKICAgICAgICAgICAgICAgICAgcXVlcnk6IGUubGF0bG5nLmxhdCArICcsICcgKyBlLmxhdGxuZy5sbmcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXN1bHRzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLm1hcmtlckxhYmVsID0gcmVzdWx0c1swXS5sYWJlbDsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG1hcFJlYWR5OiBmdW5jdGlvbiBtYXBSZWFkeSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgbWFwID0gdGhpcy4kcmVmcy5teU1hcC5tYXBPYmplY3Q7CiAgICAgIHZhciBzZWFyY2ggPSBuZXcgR2VvU2VhcmNoQ29udHJvbCh7CiAgICAgICAgcHJvdmlkZXI6IG5ldyBPcGVuU3RyZWV0TWFwUHJvdmlkZXIoKSwKICAgICAgICBzdHlsZTogJ2JhcicsCiAgICAgICAgc2VhcmNoTGFiZWw6ICdXcGlzeiBhZHJlcycKICAgICAgfSk7CgogICAgICBzZWFyY2guYWRkTWFya2VyID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICBfdGhpczIubWFya2VyQWRkZWQgPSB0cnVlOwogICAgICAgIF90aGlzMi5tYXJrZXJMYXRMbmcgPSBbdC55LCB0LnhdOwogICAgICAgIF90aGlzMi5jZW50ZXIgPSBbdC55LCB0LnhdOwogICAgICAgIF90aGlzMi5tYXJrZXJMYWJlbCA9IHQubGFiZWw7CiAgICAgIH07CgogICAgICBtYXAuYWRkQ29udHJvbChzZWFyY2gpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA,kE,CAEA;;AACA;AACAA;AACAC,kEADA;AAEAC,yDAFA;AAGAC;AAHA;AAMA;AACAC;AACAC,cADA;AAEAC,0BAFA;AAGAC,oBAHA;AAIA;AAJA,GADA;AAOAC,MAPA,kBAOA;AACA;AACAC,kGADA;AAEAC,mBACA,0FAHA;AAIAC,aAJA;AAKAC,mCALA;AAMAC,kBANA;AAOAC,0BAPA;AAQAC,wBARA;AASAC;AATA;AAWA,GAnBA;AAoBAC;AACAC,eADA,uBACAC,CADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC,wBADA,GACA,2BADA;AAEA;AACA;AACA;AAJA;AAAA,uBAKAA;AAAAC;AAAA,kBALA;;AAAA;AAKAC,uBALA;AAMA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KARA;AASAC,YATA,sBASA;AAAA;;AACA;AACA;AACAH,6CADA;AAEAI,oBAFA;AAGAC;AAHA;;AAKAC;AACA;AACA;AACA;AACA;AACA,OALA;;AAMAC;AACA;AAvBA;AApBA","names":["L","iconRetinaUrl","iconUrl","shadowUrl","components","LMap","LTileLayer","LMarker","data","url","attribution","zoom","center","bounds","markerLatLng","markerAdded","markerLabel","methods","handleClick","e","provider","query","results","mapReady","style","searchLabel","search","map"],"sourceRoot":"src/components/post","sources":["LocalizationSelect.vue"],"sourcesContent":["<template>\r\n  <div style=\"height: 350px\">\r\n    <l-map\r\n      @ready=\"mapReady()\"\r\n      ref=\"myMap\"\r\n      id=\"map\"\r\n      style=\"height: 80%; width: 100%\"\r\n      :zoom=\"zoom\"\r\n      :center=\"center\"\r\n      @click=\"handleClick\"\r\n      ><l-marker\r\n        v-if=\"markerAdded\"\r\n        :draggable=\"true\"\r\n        :lat-lng=\"markerLatLng\"\r\n      ></l-marker>\r\n      <l-tile-layer :url=\"url\" :attribution=\"attribution\"></l-tile-layer>\r\n      <v-locatecontrol :options=\"{\r\n    position: 'topright',\r\n    strings: {\r\n        title: 'Twoja lokalizacja',\r\n    }}\"/>\r\n    </l-map>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GeoSearchControl, OpenStreetMapProvider } from \"leaflet-geosearch\";\r\nimport L from \"leaflet\";\r\nimport { LMap, LTileLayer, LMarker } from \"vue2-leaflet\";\r\nimport Vue2LeafletLocatecontrol from 'vue2-leaflet-locatecontrol'\r\n\r\n// Icon fix\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\r\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\r\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\"),\r\n});\r\n\r\nexport default {\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n    LMarker,\r\n    'v-locatecontrol': Vue2LeafletLocatecontrol\r\n  },\r\n  data() {\r\n    return {\r\n      url: \"https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png\",\r\n      attribution:\r\n        '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\r\n      zoom: 3,\r\n      center: [47.41322, -1.219482],\r\n      bounds: null,\r\n      markerLatLng: [0, 0],\r\n      markerAdded: false,\r\n      markerLabel: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    async handleClick(e) {\r\n      const provider = new OpenStreetMapProvider();\r\n      this.markerAdded = true;\r\n      this.markerLatLng = [e.latlng.lat, e.latlng.lng];\r\n      this.center = [e.latlng.lat, e.latlng.lng];\r\n      const results = await provider.search({ query:  e.latlng.lat + ', ' + e.latlng.lng});\r\n      this.markerLabel = results[0].label\r\n    },\r\n    mapReady() {\r\n      var map = this.$refs.myMap.mapObject;\r\n      const search = new GeoSearchControl({\r\n        provider: new OpenStreetMapProvider(),\r\n        style: 'bar',\r\n        searchLabel: 'Wpisz adres'\r\n      });\r\n      search.addMarker = (t) => {\r\n        this.markerAdded = true;\r\n        this.markerLatLng = [t.y, t.x];\r\n        this.center = [t.y, t.x];\r\n        this.markerLabel = t.label\r\n      };\r\n      map.addControl(search);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n@import \"~leaflet/dist/leaflet.css\";\r\n@import \"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\";\r\n</style>"]}]}