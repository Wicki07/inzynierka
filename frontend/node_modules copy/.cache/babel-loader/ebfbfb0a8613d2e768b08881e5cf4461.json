{"remainingRequest":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\inżynierka\\frontend\\src\\components\\post\\LeafLetGeocoder.jsx","dependencies":[{"path":"C:\\inżynierka\\frontend\\src\\components\\post\\LeafLetGeocoder.jsx","mtime":1646668849045},{"path":"C:\\inżynierka\\frontend\\babel.config.js","mtime":1645547932946},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645547152282}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAicmVhY3QiOwppbXBvcnQgeyB1c2VNYXAgfSBmcm9tICJyZWFjdC1sZWFmbGV0IjsKaW1wb3J0ICJsZWFmbGV0LWNvbnRyb2wtZ2VvY29kZXIvZGlzdC9Db250cm9sLkdlb2NvZGVyLmNzcyI7CmltcG9ydCAibGVhZmxldC1jb250cm9sLWdlb2NvZGVyL2Rpc3QvQ29udHJvbC5HZW9jb2Rlci5qcyI7CmltcG9ydCBMIGZyb20gImxlYWZsZXQiOwpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMZWFmbGV0Q29udHJvbEdlb2NvZGVyKCkgewogIHZhciBtYXAgPSB1c2VNYXAoKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgdmFyIGdlb2NvZGVyID0gTC5Db250cm9sLkdlb2NvZGVyLm5vbWluYXRpbSgpOwoKICAgIGlmICh0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAidW5kZWZpbmVkIiAmJiBsb2NhdGlvbi5zZWFyY2gpIHsKICAgICAgLy8gcGFyc2UgLz9nZW9jb2Rlcj1ub21pbmF0aW0gZnJvbSBVUkwKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTsKICAgICAgdmFyIGdlb2NvZGVyU3RyaW5nID0gcGFyYW1zLmdldCgiZ2VvY29kZXIiKTsKCiAgICAgIGlmIChnZW9jb2RlclN0cmluZyAmJiBMLkNvbnRyb2wuR2VvY29kZXJbZ2VvY29kZXJTdHJpbmddKSB7CiAgICAgICAgZ2VvY29kZXIgPSBMLkNvbnRyb2wuR2VvY29kZXJbZ2VvY29kZXJTdHJpbmddKCk7CiAgICAgIH0gZWxzZSBpZiAoZ2VvY29kZXJTdHJpbmcpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVuc3VwcG9ydGVkIGdlb2NvZGVyIiwgZ2VvY29kZXJTdHJpbmcpOwogICAgICB9CiAgICB9CgogICAgTC5Db250cm9sLmdlb2NvZGVyKHsKICAgICAgcXVlcnk6ICIiLAogICAgICBwbGFjZWhvbGRlcjogIlNlYXJjaCBoZXJlLi4uIiwKICAgICAgZGVmYXVsdE1hcmtHZW9jb2RlOiBmYWxzZSwKICAgICAgZ2VvY29kZXI6IGdlb2NvZGVyCiAgICB9KS5vbigibWFya2dlb2NvZGUiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgbGF0bG5nID0gZS5nZW9jb2RlLmNlbnRlcjsKICAgICAgTC5tYXJrZXIobGF0bG5nKS5hZGRUbyhtYXApLmJpbmRQb3B1cChlLmdlb2NvZGUubmFtZSkub3BlblBvcHVwKCk7CiAgICAgIG1hcC5maXRCb3VuZHMoZS5nZW9jb2RlLmJib3gpOwogICAgfSkuYWRkVG8obWFwKTsKICB9LCBbXSk7CiAgcmV0dXJuIG51bGw7Cn0="},{"version":3,"sources":["C:/inżynierka/frontend/src/components/post/LeafLetGeocoder.jsx"],"names":["useEffect","useMap","L","LeafletControlGeocoder","map","geocoder","Control","Geocoder","nominatim","URLSearchParams","location","search","params","geocoderString","get","console","warn","query","placeholder","defaultMarkGeocode","on","e","latlng","geocode","center","marker","addTo","bindPopup","name","openPopup","fitBounds","bbox"],"mappings":";;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,OAAO,oDAAP;AACA,OAAO,mDAAP;AACA,OAAOC,CAAP,MAAc,SAAd;AAGA,eAAe,SAASC,sBAAT,GAAkC;AAC/C,MAAMC,GAAG,GAAGH,MAAM,EAAlB;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIK,QAAQ,GAAGH,CAAC,CAACI,OAAF,CAAUC,QAAV,CAAmBC,SAAnB,EAAf;;AACA,QAAI,OAAOC,eAAP,KAA2B,WAA3B,IAA0CC,QAAQ,CAACC,MAAvD,EAA+D;AAC7D;AACA,UAAIC,MAAM,GAAG,IAAIH,eAAJ,CAAoBC,QAAQ,CAACC,MAA7B,CAAb;AACA,UAAIE,cAAc,GAAGD,MAAM,CAACE,GAAP,CAAW,UAAX,CAArB;;AACA,UAAID,cAAc,IAAIX,CAAC,CAACI,OAAF,CAAUC,QAAV,CAAmBM,cAAnB,CAAtB,EAA0D;AACxDR,QAAAA,QAAQ,GAAGH,CAAC,CAACI,OAAF,CAAUC,QAAV,CAAmBM,cAAnB,GAAX;AACD,OAFD,MAEO,IAAIA,cAAJ,EAAoB;AACzBE,QAAAA,OAAO,CAACC,IAAR,CAAa,sBAAb,EAAqCH,cAArC;AACD;AACF;;AAEDX,IAAAA,CAAC,CAACI,OAAF,CAAUD,QAAV,CAAmB;AACjBY,MAAAA,KAAK,EAAE,EADU;AAEjBC,MAAAA,WAAW,EAAE,gBAFI;AAGjBC,MAAAA,kBAAkB,EAAE,KAHH;AAIjBd,MAAAA,QAAQ,EAARA;AAJiB,KAAnB,EAMGe,EANH,CAMM,aANN,EAMqB,UAAUC,CAAV,EAAa;AAC9B,UAAIC,MAAM,GAAGD,CAAC,CAACE,OAAF,CAAUC,MAAvB;AACAtB,MAAAA,CAAC,CAACuB,MAAF,CAASH,MAAT,EACGI,KADH,CACStB,GADT,EAEGuB,SAFH,CAEaN,CAAC,CAACE,OAAF,CAAUK,IAFvB,EAGGC,SAHH;AAIAzB,MAAAA,GAAG,CAAC0B,SAAJ,CAAcT,CAAC,CAACE,OAAF,CAAUQ,IAAxB;AACD,KAbH,EAcGL,KAdH,CAcStB,GAdT;AAeD,GA5BQ,EA4BN,EA5BM,CAAT;AA8BA,SAAO,IAAP;AACD","sourcesContent":["import { useEffect } from \"react\";\r\nimport { useMap } from \"react-leaflet\";\r\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.css\";\r\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.js\";\r\nimport L from \"leaflet\";\r\n\r\n\r\nexport default function LeafletControlGeocoder() {\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n    var geocoder = L.Control.Geocoder.nominatim();\r\n    if (typeof URLSearchParams !== \"undefined\" && location.search) {\r\n      // parse /?geocoder=nominatim from URL\r\n      var params = new URLSearchParams(location.search);\r\n      var geocoderString = params.get(\"geocoder\");\r\n      if (geocoderString && L.Control.Geocoder[geocoderString]) {\r\n        geocoder = L.Control.Geocoder[geocoderString]();\r\n      } else if (geocoderString) {\r\n        console.warn(\"Unsupported geocoder\", geocoderString);\r\n      }\r\n    }\r\n\r\n    L.Control.geocoder({\r\n      query: \"\",\r\n      placeholder: \"Search here...\",\r\n      defaultMarkGeocode: false,\r\n      geocoder\r\n    })\r\n      .on(\"markgeocode\", function (e) {\r\n        var latlng = e.geocode.center;\r\n        L.marker(latlng)\r\n          .addTo(map)\r\n          .bindPopup(e.geocode.name)\r\n          .openPopup();\r\n        map.fitBounds(e.geocode.bbox);\r\n      })\r\n      .addTo(map);\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n"]}]}