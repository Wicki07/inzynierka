{"remainingRequest":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\inżynierka\\frontend\\src\\components\\post\\AddPlace.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\inżynierka\\frontend\\src\\components\\post\\AddPlace.vue","mtime":1645547587811},{"path":"C:\\inżynierka\\frontend\\babel.config.js","mtime":1645547180370},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645547152282},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1645547152770}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9pblx1MDE3Q3luaWVya2EvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovaW5cdTAxN0N5bmllcmthL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L2luXHUwMTdDeW5pZXJrYS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBheGlvc0FQSSB9IGZyb20gJy4uLy4uL2F4aW9zQVBJJzsKaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAnQGdvb2dsZW1hcHMvanMtYXBpLWxvYWRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gewogICAgICBsb2NhbGl6YXRpb246ICIiLAogICAgICBjYXRlZ29yeTogIiIsCiAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgaW1hZ2VzOiBbXSwKICAgICAgY29udmVydGVkSW1hZ2VzOiBbXSwKICAgICAgYWxsb3dlZFR5cGVzOiAiaW1hZ2UvcG5nLCBpbWFnZS9qcGVnLCBpbWFnZS9ibXAsIGltYWdlL2ltZyIsCiAgICAgIGltYWdlUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHZhciBoYXNEdXBsaWNhdGVzID0gZmFsc2U7CiAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZXMgPSBbXTsKICAgICAgICB2LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBpZiAoY2hlY2tlZFZhbHVlcy5zb21lKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbC5uYW1lID09IHZhbHVlLm5hbWU7CiAgICAgICAgICB9KSkgewogICAgICAgICAgICBoYXNEdXBsaWNhdGVzID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjaGVja2VkVmFsdWVzLnB1c2godmFsdWUpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiAhaGFzRHVwbGljYXRlcyB8fCAnRG9kYW5vIGp1xbwgcG9kYW55IHBsaWsnOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhdiB8fCAhdi5zb21lKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuICFfdGhpcy5hbGxvd2VkVHlwZXMuaW5jbHVkZXModmFsdWUudHlwZSk7CiAgICAgICAgfSkgfHwgJ1BvZGFubyBuaWV3xYJhxZtjaXd5IGZvcm1hdCBwbGlrdS4gRG9wdXN6Y3phbG5lIGZvcm1hdHk6IHBuZywganBnLCBqcGVnLCBibXAsIGltZyc7CiAgICAgIH1dLAogICAgICBsb2FkZXI6IG5ldyBMb2FkZXIoewogICAgICAgIGFwaUtleTogIkFJemFTeUFwXy10b0p1ZVp4T09iZTBSeHhtWHZWeW9TX2pXNENRVSIsCiAgICAgICAgdmVyc2lvbjogIndlZWtseSIsCiAgICAgICAgbGlicmFyaWVzOiBbInBsYWNlcyJdCiAgICAgIH0pLAogICAgICBtYXBPcHRpb25zOiB7CiAgICAgICAgY2VudGVyOiB7CiAgICAgICAgICBsYXQ6IDAsCiAgICAgICAgICBsbmc6IDAKICAgICAgICB9LAogICAgICAgIHpvb206IDQKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMyLmxvYWRlci5sb2FkKCkudGhlbihmdW5jdGlvbiAoZ29vZ2xlKSB7CiAgICAgICAgICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFwIiksIF90aGlzMi5tYXBPcHRpb25zKTsKICAgICAgICAgICAgICAgIG1hcC5hZGRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAobWFwc01vdXNlRXZlbnQpIHsKICAgICAgICAgICAgICAgICAgdmFyIGluZm9XaW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG1hcHNNb3VzZUV2ZW50LmxhdExuZwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5mb1dpbmRvdyk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1hcHNNb3VzZUV2ZW50KTsKICAgICAgICAgICAgICAgICAgbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG1hcHNNb3VzZUV2ZW50LmxhdExuZywKICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcCwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogIkhlbGxvIFdvcmxkISIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7Ly8gZG8gc29tZXRoaW5nCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRQb3N0OiBmdW5jdGlvbiBhZGRQb3N0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImxvY2FsaXphdGlvbiIsIHRoaXMubG9jYWxpemF0aW9uKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJjYXRlZ29yeSIsIHRoaXMuY2F0ZWdvcnkpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoImRlc2NyaXB0aW9uIiwgdGhpcy5kZXNjcmlwdGlvbik7CiAgICAgIHRoaXMuY29udmVydGVkSW1hZ2VzLmZvckVhY2goZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJpbWFnZXMiLCBpbWFnZSwgaW1hZ2UubmFtZSk7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhmb3JtRGF0YS5nZXRBbGwoImltYWdlcyIpKTsKICAgICAgYXhpb3NBUEkucG9zdCgiL2FwaS9wb3N0IiwgZm9ybURhdGEsIHsKICAgICAgICBoZWFkZXJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGF4aW9zQVBJLmhlYWRlcnMpLCB7fSwgewogICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgIH0pCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlcy5kYXRhLnRva2VuKTsKCiAgICAgICAgX3RoaXMzLnNldFVzZXIocmVzLmRhdGEudXNlcik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZygiZXJyIik7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgb25BZGRGaWxlczogZnVuY3Rpb24gb25BZGRGaWxlcyhmaWxlcykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmIChmaWxlcy5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuY29udmVydGVkSW1hZ2VzID0gW107CiAgICAgIH0KCiAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7CiAgICAgICAgdmFyIHNlbGYgPSBfdGhpczQ7CgogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2V2ZW50LnRhcmdldC5yZXN1bHRdKTsKICAgICAgICAgIHZhciBibG9iVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwogICAgICAgICAgaW1hZ2Uuc3JjID0gYmxvYlVSTDsKICAgICAgICAgIGltYWdlLm9ubG9hZCA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgICB2YXIgcmVzaXplZCwgZmlsZTsKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICByZXNpemVkID0gc2VsZi5yZXNpemVNZShpbWFnZSk7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChyZXNpemVkKS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5ibG9iKCk7CiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYkZpbGUpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmlsZShbYmxvYkZpbGVdLCBzZWxmLmltZ05hbWUoKSwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiaW1hZ2UvcG5nIgogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAgICAgZmlsZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgICAgIHNlbGYuY29udmVydGVkSW1hZ2VzLnB1c2goZmlsZSk7CgogICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICB9KSk7CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzaXplTWU6IGZ1bmN0aW9uIHJlc2l6ZU1lKGltZykgewogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIHZhciB3aWR0aCA9IGltZy53aWR0aDsKICAgICAgdmFyIGhlaWdodCA9IGltZy5oZWlnaHQ7CiAgICAgIHZhciBtYXhfd2lkdGggPSA4MDA7CiAgICAgIHZhciBtYXhfaGVpZ2h0ID0gODAwOwoKICAgICAgaWYgKHdpZHRoID4gaGVpZ2h0KSB7CiAgICAgICAgaWYgKHdpZHRoID4gbWF4X3dpZHRoKSB7CiAgICAgICAgICBoZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAqPSBtYXhfd2lkdGggLyB3aWR0aCk7CiAgICAgICAgICB3aWR0aCA9IG1heF93aWR0aDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGhlaWdodCA+IG1heF9oZWlnaHQpIHsKICAgICAgICAgIHdpZHRoID0gTWF0aC5yb3VuZCh3aWR0aCAqPSBtYXhfaGVpZ2h0IC8gaGVpZ2h0KTsKICAgICAgICAgIGhlaWdodCA9IG1heF9oZWlnaHQ7CiAgICAgICAgfQogICAgICB9CgogICAgICBjYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCJpbWFnZS9qcGVnIiwgMC44KTsKICAgIH0sCiAgICBpbWdOYW1lOiBmdW5jdGlvbiBpbWdOYW1lKCkgewogICAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICAgIHZhciBjaGFyYWN0ZXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JzsKICAgICAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjA7IGkrKykgewogICAgICAgIHJlc3VsdCArPSBjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzTGVuZ3RoKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgZHJhZ292ZXI6IGZ1bmN0aW9uIGRyYWdvdmVyKGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuJHJlZnMuaW1naW5wdXQuZm9jdXMoKTsKICAgIH0sCiAgICBkcmFnbGVhdmU6IGZ1bmN0aW9uIGRyYWdsZWF2ZShldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLiRyZWZzLmltZ2lucHV0LmJsdXIoKTsKICAgIH0sCiAgICBkcm9wOiBmdW5jdGlvbiBkcm9wKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyRpbWFnZXM7CgogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLm9uQWRkRmlsZXMoQXJyYXkuZnJvbShldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpKTsKCiAgICAgIChfdGhpcyRpbWFnZXMgPSB0aGlzLmltYWdlcykucHVzaC5hcHBseShfdGhpcyRpbWFnZXMsIF90b0NvbnN1bWFibGVBcnJheShldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpKTsKCiAgICAgIHRoaXMuJHJlZnMuaW1naW5wdXQudmFsaWRhdGUoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACAA,MADA,kBACA;AAAA;;AACA;AACAC,sBADA;AAEAC,kBAFA;AAGAC,qBAHA;AAIAC,gBAJA;AAKAC,yBALA;AAMAC,iEANA;AAOAC,mBACA;AACA;AACA;AACAC;AACA;AAAA;AAAA;AACAC;AACA;;AACAC;AACA,SALA;AAMA;AAAA,OAVA,EAWA;AAAA;AAAA;AAAA;AAAA,OAXA,CAPA;AAoBAC;AACAC,yDADA;AAEAC,yBAFA;AAGAC;AAHA,QApBA;AAyBAC;AACAC;AACAC,gBADA;AAEAC;AAFA,SADA;AAKAC;AALA;AAzBA;AAiCA,GAnCA;AAoCAC,SApCA,qBAoCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,4BACAC,IADA,GAEAC,IAFA,CAEA;AACA;AACAC;AACA;AACAC;AADA;AAGAC;AACAA;AACA;AACAD,mDADA;AAEAD,4BAFA;AAGAG;AAHA;AAKA,iBAXA;AAYA,eAhBA,EAiBAC,KAjBA,CAiBA,aACA;AACA,eAnBA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA,GAzDA;AA0DAC;AACAC,WADA,qBACA;AAAA;;AACA;AACAC;AACAA;AACAA;AACA;AACAA;AACA,OAFA;AAGAL;AACAM;AACAC,iDACAD,gBADA;AAEA;AAFA;AADA,SAIAT,IAJA,CAIA;AACAW;;AACA;AACA,OAPA,EAOAN,KAPA,CAOA;AACAF;AACAA;AACA,OAVA;AAWA,KArBA;AAsBAS,cAtBA,sBAsBAC,KAtBA,EAsBA;AAAA;;AACA;AACA;AACA;;AACAA;AACA;AACAC;AACA;;AACAA;AACA;AACA;AACA;AACAC;AACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACAC,2BADA,GACAC,oBADA;AAAA;AAAA,2BAEAC;AAAA;AAAA;AAAA;AAAAC;AAAA;AAAA,sBAFA;;AAAA;AAEAC,wBAFA;AAGAH;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,SAVA;AAWA,OAfA;AAgBA,KA1CA;AA2CAI,YA3CA,oBA2CAC,GA3CA,EA2CA;AAEA;AAEA;AACA;AACA;AACA;;AACA;AACA;AACAC;AACAC;AACA;AACA,OALA,MAKA;AACA;AACAA;AACAD;AACA;AACA;;AACAE;AACAA;AACA;AACAC;AACA;AAEA,KApEA;AAqEAC,WArEA,qBAqEA;AACA;AACA;AACA;;AACA;AACAC;AACA;;AACA;AACA,KA7EA;AA8EAC,YA9EA,oBA8EAC,KA9EA,EA8EA;AACAA;AACA;AACA,KAjFA;AAkFAC,aAlFA,qBAkFAD,KAlFA,EAkFA;AACAA;AACA;AACA,KArFA;AAsFAE,QAtFA,gBAsFAF,KAtFA,EAsFA;AAAA;;AACAA;AACA;;AACA;;AACA;AACA;AA3FA;AA1DA","names":["data","localization","category","description","images","convertedImages","allowedTypes","imageRules","v","hasDuplicates","checkedValues","loader","apiKey","version","libraries","mapOptions","center","lat","lng","zoom","mounted","load","then","map","position","console","title","catch","methods","addPost","formData","axiosAPI","headers","localStorage","onAddFiles","files","reader","image","resized","self","fetch","type","file","resizeMe","img","height","width","canvas","ctx","imgName","result","dragover","event","dragleave","drop"],"sourceRoot":"src/components/post","sources":["AddPlace.vue"],"sourcesContent":["<template>\r\n    <v-container>\r\n        <v-card>\r\n            <v-text-field\r\n                class=\"mt-5\"\r\n                v-model=\"localization\"\r\n                label=\"Lokalizacja\"\r\n            ></v-text-field>\r\n            <v-text-field\r\n                class=\"mt-5\"\r\n                v-model=\"category\"\r\n                label=\"Kategoria\"\r\n            ></v-text-field>\r\n            <v-textarea\r\n                class=\"mt-5\"\r\n                v-model=\"description\"\r\n                label=\"Opis\"\r\n            ></v-textarea>\r\n            <div\r\n                @dragover=\"dragover\"\r\n                @dragleave=\"dragleave\"\r\n                @drop=\"drop\"\r\n            >\r\n                <v-file-input\r\n                    accept=\"image/png, image/jpeg, image/bmp, image/img\"\r\n                    prepend-icon=\"mdi-camera\"\r\n                    ref=\"imginput\"\r\n                    chips\r\n                    multiple\r\n                    label=\"Zdjęcia\"\r\n                    :rules=\"imageRules\"\r\n                    v-model=\"images\"\r\n                    @change=\"onAddFiles\"\r\n                ></v-file-input>\r\n            </div>\r\n            <div id=\"map\" style=\"height: 360px; width: 640px;\"></div>\r\n            <v-btn\r\n                color=\"success\"\r\n                @click=\"addPost\"\r\n            >dodaj\r\n            </v-btn>\r\n        </v-card>\r\n    </v-container>\r\n</template>\r\n<script>\r\nimport {axiosAPI} from '../../axiosAPI';\r\nimport { Loader } from '@googlemaps/js-api-loader';\r\nexport default {\r\n    data(){\r\n        return {\r\n            localization: \"\",\r\n            category: \"\",\r\n            description: \"\",\r\n            images: [],\r\n            convertedImages: [],\r\n            allowedTypes: \"image/png, image/jpeg, image/bmp, image/img\",\r\n            imageRules: [\r\n                v => {\r\n                    var hasDuplicates = false\r\n                    var checkedValues = []\r\n                    v.forEach(value => {\r\n                        if (checkedValues.some(val => val.name == value.name)) {\r\n                            hasDuplicates = true\r\n                        }\r\n                        checkedValues.push(value)\r\n                    })\r\n                    return !hasDuplicates || 'Dodano już podany plik'},\r\n                v => !v || !v.some(value => !this.allowedTypes.includes(value.type)) || 'Podano niewłaściwy format pliku. Dopuszczalne formaty: png, jpg, jpeg, bmp, img',\r\n            ],\r\n            loader: new Loader({\r\n                apiKey: \"AIzaSyAp_-toJueZxOObe0RxxmXvVyoS_jW4CQU\",\r\n                version: \"weekly\",\r\n                libraries: [\"places\"]\r\n            }),\r\n            mapOptions: {\r\n                center: {\r\n                    lat: 0,\r\n                    lng: 0\r\n                },\r\n                zoom: 4\r\n            }\r\n        }\r\n    },\r\n    async mounted() {\r\n        this.loader\r\n            .load()\r\n            .then((google) => {\r\n                const map = new google.maps.Map(document.getElementById(\"map\"), this.mapOptions);\r\n                map.addListener(\"click\", (mapsMouseEvent) => {\r\n                    let infoWindow = new google.maps.InfoWindow({\r\n                        position: mapsMouseEvent.latLng,\r\n                    });\r\n                    console.log(infoWindow)\r\n                    console.log(mapsMouseEvent)\r\n                    new google.maps.Marker({\r\n                        position: mapsMouseEvent.latLng,\r\n                        map,\r\n                        title: \"Hello World!\",\r\n                    });\r\n                });\r\n            })\r\n            .catch(()=> {\r\n                // do something\r\n            });\r\n    },\r\n    methods: {\r\n        addPost(){\r\n            const formData = new FormData();\r\n            formData.append(\"localization\", this.localization);\r\n            formData.append(\"category\", this.category);\r\n            formData.append(\"description\", this.description);\r\n            this.convertedImages.forEach((image) => {\r\n                formData.append(\"images\", image, image.name);\r\n            })\r\n            console.log(formData.getAll(\"images\"))\r\n            axiosAPI.post(\"/api/post\",formData,{\r\n                headers: { \r\n                    ...axiosAPI.headers,\r\n                    'content-type': 'multipart/form-data'\r\n            }}).then(res => {\r\n                localStorage.setItem('token', res.data.token);\r\n                this.setUser(res.data.user)\r\n            }).catch(err => {\r\n                console.log(\"err\")\r\n                console.log(err)\r\n            })\r\n        },\r\n        onAddFiles (files) {\r\n            if(files.length == 0){\r\n                this.convertedImages = []\r\n            }\r\n            files.forEach((file) => {\r\n                const reader = new FileReader()\r\n                reader.readAsArrayBuffer(file);\r\n                const self = this\r\n                reader.onload = function (event) {\r\n                    var blob = new Blob([event.target.result]);\r\n                    var blobURL = URL.createObjectURL(blob);\r\n                    var image = new Image()\r\n                    image.src = blobURL;\r\n                    image.onload = async function() {\r\n                        var resized = self.resizeMe(image);\r\n                        let file = await fetch(resized).then(r => r.blob()).then(blobFile => new File([blobFile], self.imgName(), { type: \"image/png\" }))\r\n                        self.convertedImages.push(file);\r\n                    }\r\n                };\r\n            })\r\n        },\r\n        resizeMe(img) {\r\n        \r\n            var canvas = document.createElement('canvas');\r\n\r\n            var width = img.width;\r\n            var height = img.height;\r\n            var max_width = 800;\r\n            var max_height = 800;\r\n            if (width > height) {\r\n                if (width > max_width) {\r\n                height = Math.round(height *= max_width / width);\r\n                width = max_width;\r\n                }\r\n            } else {\r\n                if (height > max_height) {\r\n                width = Math.round(width *= max_height / height);\r\n                height = max_height;\r\n                }\r\n            }\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            var ctx = canvas.getContext(\"2d\");\r\n            ctx.drawImage(img, 0, 0, width, height);\r\n            return canvas.toDataURL(\"image/jpeg\",0.8);\r\n\r\n        },\r\n        imgName() {\r\n            var result = '';\r\n            var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n            var charactersLength = characters.length;\r\n            for ( var i = 0; i < 20; i++ ) {\r\n                result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n            }\r\n            return result;\r\n        },\r\n        dragover(event) {\r\n            event.preventDefault();\r\n            this.$refs.imginput.focus()\r\n        },\r\n        dragleave(event) {\r\n            event.preventDefault();\r\n            this.$refs.imginput.blur()\r\n        },\r\n        drop(event) {\r\n            event.preventDefault();\r\n            this.onAddFiles(Array.from(event.dataTransfer.files))\r\n            this.images.push(...event.dataTransfer.files)\r\n            this.$refs.imginput.validate()\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>"]}]}