{"remainingRequest":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\inżynierka\\frontend\\src\\components\\post\\LeafLetGeocoder.jsx","dependencies":[{"path":"C:\\inżynierka\\frontend\\src\\components\\post\\LeafLetGeocoder.jsx","mtime":1645982744767},{"path":"C:\\inżynierka\\frontend\\babel.config.js","mtime":1645547932946},{"path":"C:\\inżynierka\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645547150279},{"path":"C:\\inżynierka\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1645547152282}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAicmVhY3QiOwppbXBvcnQgeyB1c2VNYXAgfSBmcm9tICJyZWFjdC1sZWFmbGV0IjsKaW1wb3J0ICJsZWFmbGV0LWNvbnRyb2wtZ2VvY29kZXIvZGlzdC9Db250cm9sLkdlb2NvZGVyLmNzcyI7CmltcG9ydCAibGVhZmxldC1jb250cm9sLWdlb2NvZGVyL2Rpc3QvQ29udHJvbC5HZW9jb2Rlci5qcyI7CmltcG9ydCBMIGZyb20gImxlYWZsZXQiOwppbXBvcnQgaWNvbiBmcm9tICIuL2NvbnN0YW50cyI7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExlYWZsZXRDb250cm9sR2VvY29kZXIoKSB7CiAgdmFyIG1hcCA9IHVzZU1hcCgpOwogIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICB2YXIgZ2VvY29kZXIgPSBMLkNvbnRyb2wuR2VvY29kZXIubm9taW5hdGltKCk7CgogICAgaWYgKHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICJ1bmRlZmluZWQiICYmIGxvY2F0aW9uLnNlYXJjaCkgewogICAgICAvLyBwYXJzZSAvP2dlb2NvZGVyPW5vbWluYXRpbSBmcm9tIFVSTAogICAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpOwogICAgICB2YXIgZ2VvY29kZXJTdHJpbmcgPSBwYXJhbXMuZ2V0KCJnZW9jb2RlciIpOwoKICAgICAgaWYgKGdlb2NvZGVyU3RyaW5nICYmIEwuQ29udHJvbC5HZW9jb2RlcltnZW9jb2RlclN0cmluZ10pIHsKICAgICAgICBnZW9jb2RlciA9IEwuQ29udHJvbC5HZW9jb2RlcltnZW9jb2RlclN0cmluZ10oKTsKICAgICAgfSBlbHNlIGlmIChnZW9jb2RlclN0cmluZykgewogICAgICAgIGNvbnNvbGUud2FybigiVW5zdXBwb3J0ZWQgZ2VvY29kZXIiLCBnZW9jb2RlclN0cmluZyk7CiAgICAgIH0KICAgIH0KCiAgICBMLkNvbnRyb2wuZ2VvY29kZXIoewogICAgICBxdWVyeTogIiIsCiAgICAgIHBsYWNlaG9sZGVyOiAiU2VhcmNoIGhlcmUuLi4iLAogICAgICBkZWZhdWx0TWFya0dlb2NvZGU6IGZhbHNlLAogICAgICBnZW9jb2RlcjogZ2VvY29kZXIKICAgIH0pLm9uKCJtYXJrZ2VvY29kZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBsYXRsbmcgPSBlLmdlb2NvZGUuY2VudGVyOwogICAgICBMLm1hcmtlcihsYXRsbmcsIHsKICAgICAgICBpY29uOiBpY29uCiAgICAgIH0pLmFkZFRvKG1hcCkuYmluZFBvcHVwKGUuZ2VvY29kZS5uYW1lKS5vcGVuUG9wdXAoKTsKICAgICAgbWFwLmZpdEJvdW5kcyhlLmdlb2NvZGUuYmJveCk7CiAgICB9KS5hZGRUbyhtYXApOwogIH0sIFtdKTsKICByZXR1cm4gbnVsbDsKfQ=="},{"version":3,"sources":["C:/inżynierka/frontend/src/components/post/LeafLetGeocoder.jsx"],"names":["useEffect","useMap","L","icon","LeafletControlGeocoder","map","geocoder","Control","Geocoder","nominatim","URLSearchParams","location","search","params","geocoderString","get","console","warn","query","placeholder","defaultMarkGeocode","on","e","latlng","geocode","center","marker","addTo","bindPopup","name","openPopup","fitBounds","bbox"],"mappings":";;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,OAAO,oDAAP;AACA,OAAO,mDAAP;AACA,OAAOC,CAAP,MAAc,SAAd;AAEA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,eAAe,SAASC,sBAAT,GAAkC;AAC/C,MAAMC,GAAG,GAAGJ,MAAM,EAAlB;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIM,QAAQ,GAAGJ,CAAC,CAACK,OAAF,CAAUC,QAAV,CAAmBC,SAAnB,EAAf;;AACA,QAAI,OAAOC,eAAP,KAA2B,WAA3B,IAA0CC,QAAQ,CAACC,MAAvD,EAA+D;AAC7D;AACA,UAAIC,MAAM,GAAG,IAAIH,eAAJ,CAAoBC,QAAQ,CAACC,MAA7B,CAAb;AACA,UAAIE,cAAc,GAAGD,MAAM,CAACE,GAAP,CAAW,UAAX,CAArB;;AACA,UAAID,cAAc,IAAIZ,CAAC,CAACK,OAAF,CAAUC,QAAV,CAAmBM,cAAnB,CAAtB,EAA0D;AACxDR,QAAAA,QAAQ,GAAGJ,CAAC,CAACK,OAAF,CAAUC,QAAV,CAAmBM,cAAnB,GAAX;AACD,OAFD,MAEO,IAAIA,cAAJ,EAAoB;AACzBE,QAAAA,OAAO,CAACC,IAAR,CAAa,sBAAb,EAAqCH,cAArC;AACD;AACF;;AAEDZ,IAAAA,CAAC,CAACK,OAAF,CAAUD,QAAV,CAAmB;AACjBY,MAAAA,KAAK,EAAE,EADU;AAEjBC,MAAAA,WAAW,EAAE,gBAFI;AAGjBC,MAAAA,kBAAkB,EAAE,KAHH;AAIjBd,MAAAA,QAAQ,EAARA;AAJiB,KAAnB,EAMGe,EANH,CAMM,aANN,EAMqB,UAAUC,CAAV,EAAa;AAC9B,UAAIC,MAAM,GAAGD,CAAC,CAACE,OAAF,CAAUC,MAAvB;AACAvB,MAAAA,CAAC,CAACwB,MAAF,CAASH,MAAT,EAAiB;AAAEpB,QAAAA,IAAI,EAAJA;AAAF,OAAjB,EACGwB,KADH,CACStB,GADT,EAEGuB,SAFH,CAEaN,CAAC,CAACE,OAAF,CAAUK,IAFvB,EAGGC,SAHH;AAIAzB,MAAAA,GAAG,CAAC0B,SAAJ,CAAcT,CAAC,CAACE,OAAF,CAAUQ,IAAxB;AACD,KAbH,EAcGL,KAdH,CAcStB,GAdT;AAeD,GA5BQ,EA4BN,EA5BM,CAAT;AA8BA,SAAO,IAAP;AACD","sourcesContent":["import { useEffect } from \"react\";\r\nimport { useMap } from \"react-leaflet\";\r\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.css\";\r\nimport \"leaflet-control-geocoder/dist/Control.Geocoder.js\";\r\nimport L from \"leaflet\";\r\n\r\nimport icon from \"./constants\";\r\n\r\nexport default function LeafletControlGeocoder() {\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n    var geocoder = L.Control.Geocoder.nominatim();\r\n    if (typeof URLSearchParams !== \"undefined\" && location.search) {\r\n      // parse /?geocoder=nominatim from URL\r\n      var params = new URLSearchParams(location.search);\r\n      var geocoderString = params.get(\"geocoder\");\r\n      if (geocoderString && L.Control.Geocoder[geocoderString]) {\r\n        geocoder = L.Control.Geocoder[geocoderString]();\r\n      } else if (geocoderString) {\r\n        console.warn(\"Unsupported geocoder\", geocoderString);\r\n      }\r\n    }\r\n\r\n    L.Control.geocoder({\r\n      query: \"\",\r\n      placeholder: \"Search here...\",\r\n      defaultMarkGeocode: false,\r\n      geocoder\r\n    })\r\n      .on(\"markgeocode\", function (e) {\r\n        var latlng = e.geocode.center;\r\n        L.marker(latlng, { icon })\r\n          .addTo(map)\r\n          .bindPopup(e.geocode.name)\r\n          .openPopup();\r\n        map.fitBounds(e.geocode.bbox);\r\n      })\r\n      .addTo(map);\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n"]}]}